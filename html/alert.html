<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width" />
<title>alert message</title>
<meta name="Keywords" content="">
<meta name="Description" content="">
<link rel="stylesheet" href="../css/base.css" />
<script src="../js/jquery-3.2.1.min.js"></script>
<!--[if lt ie 9]>
<script src="../js/html5.js"></script>
<script src="../js/respond.js"></script>
<![endif]-->
<style>
html, body {height:2500px;}
[data-dalert] {margin-top:200px; width:100px; height:50px; display:inline-block; text-align:center; line-height:50px;}
</style>
</head>
<body>
    <a href="http://www.naver.com" data-dalert="atag 알럿 메세지를 \n입력해 주세요." target="_blank">얼럿 링크</a>
    <button type="button" data-dalert="button 알럿 메세지 \n개행문자를 \n나눠봅니다.">button얼럿</button>
    <span data-dalert="span 알럿 메세지를 \n입력해 주세요.">span얼럿</span>
    <a href="#" data-dalert="# 알럿 메세지를 \n입력해 주세요.">#얼럿</a>
    <a href="#;aaaaaa" data-dalert="#;aaaaaa 알럿 메세지를 \n입력해 주세요.">#;aaaaaa얼럿</a>
    <a href="quick_menu.html" data-dalert="atag 알럿 메세지를 \n입력해 주세요.">얼럿 링크</a>
    <a href="/" data-dalert="atag 알럿 메세지를 \n입력해 주세요.">얼럿 링크</a>

    <script type="text/javascript">
        var alertModule = alertModule || {};
        alertModule = (function(alertModule, $, undefined){

            var _btnAlert = $("[data-dalert]");    // [data-dalert] 데이터 속성이 들어간 태그를 변수에 저장

            var init = function(){
                btnContorl();
            }

            function btnContorl(){
                _btnAlert.on("click", function(e){    // [data-dalert] 데이터 속성이 들어간 태그를 클릭시 실행
                    var message = $(this).data("dalert");    // data 함수를 이용해 클릭한 자신의 문자열을 가져온다
                    var href = $(this).attr("href");    // 클릭한 자신의 hreft 값을 변수에 저장
                    if(href!=undefined){    // href 값이 있을때만 실행(button, tag 등은 undefind)
                        if(href.match("#")!=null){    // href 값에 match 함수를 이용해 샵(#)을 찾아 있을 경우 실행
                            e.preventDefault();    // 링크 막기
                        }
                    }
                    alertMessage(message);    // alertMessage 함수 호출하여 인자값으로 문자열 전달
                });
            }

            function alertMessage(message){    // 인자값으로 문자열을 받음
                var lf = /\\n/;    // 정규식으로(/\찾는문자열/) 개행문자(\n)를 변수에 저장
                var str = message.split(lf);    // 인자값으로 받은 문자열을 split 함수를 통해 개행문자(\n)를 기준으로 배열로 나눔
                alert(str.join("\n"));    // 배열로 나온 결과값에 join 함수를 이용해 연결 하고 문자열로 바꾼다(구분은 콤마(,)로 할수있으며 값으로 개행문자("\n")를 넣지않고 빈값으로두면 콤마(,)가 나옴)
            }

        	return{
        		init : init
        	};
        })(window.alertModule || {},jQuery);
        alertModule.init();
    </script>
</body>
</html>
