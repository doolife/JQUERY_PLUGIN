<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width" />
<title> dropdown </title>
<meta name="Keywords" content="">
<meta name="Description" content="">
<link rel="stylesheet" href="../css/base.css" />
<script src="../js/jquery-3.1.1.min.js"></script>
<!--[if lt ie 9]>
<script src="../js/html5.js"></script>
<script src="../js/respond.js"></script>
<![endif]-->
<style>
img {max-width:100%;}
.btn_dropdown {width:100%; height:50px; background-color:#ddd;}
.dropdown_con {margin:0 auto 0; max-width:760px;}
</style>
</head>
<body>
    <button  type="button" class="btn_dropdown" data-btn="menu">dropdown1</button>
    <div class="dropdown_con" data-dropdown="contents">
        <img src="../images/slider/00.jpg" alt="" />
    </div>
    <button  type="button" class="btn_dropdown" data-btn="menu">dropdown2</button>
    <div class="dropdown_con" data-dropdown="contents">
        <img src="../images/slider/01.jpg" alt="" />
    </div>
    <button  type="button" class="btn_dropdown" data-btn="menu">dropdown3</button>
    <div class="dropdown_con" data-dropdown="contents">
        <img src="../images/slider/02.jpg" alt="" />
    </div>
    <button  type="button" class="btn_dropdown" data-btn="menu">dropdown4</button>
    <div class="dropdown_con" data-dropdown="contents">
        <img src="../images/slider/03.jpg" alt="" />
    </div>
<script>
    var DROPDOWN = (function (window, document, $, undefined) {

        var $btn = $("[data-btn='menu']"), $con = $("[data-dropdown='contents']");

        var init = function(opts) {
            constructor.btnControls();
            constructor.setDropDown(opts.idx);
            constructor.callbackScroll($btn.eq(opts.idx).offset().top);
        };

        var constructor = {
            btnControls : function(){
                $btn.on("click", function(){
                    var target = $($btn).index(this);
                    constructor.visibleChk(target);
                });
            },
            visibleChk : function(idx){
                if (!$con.eq(idx).is(":visible")){
                    constructor.slideDown(idx);
                    constructor.callbackScroll($btn.eq(idx).offset().top);
                }else{
                    constructor.slideUp(idx);
                }
            },
            slideDown : function(idx){
                $con.slideUp(500).eq(idx).slideDown(500);
            },
            slideUp : function(idx){
                $con.eq(idx).slideUp(500);
            },
            callbackScroll : function(scTop){
                $("body, html").animate({scrollTop:scTop}, 500);
            },
            setDropDown : function(idx){
                $con.slideUp(0).eq(idx).slideDown(0);
            }
        };

        return {
            options:init
        };

    })(window, document, $);

    new DROPDOWN.options({
        idx:3
    });
</script>
</body>
</html>
